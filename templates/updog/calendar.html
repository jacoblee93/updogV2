{% extends 'updog/base.html' %}

{% load static %}

{% block above_calendar_block %}

<div class="hero-unit">
  <br />
  <br />

  <center>
    <h1>What's Up With You?</h1>
  </center>
  <br />
</div>

{% endblock %}

{% block calendar_block %}

<div class="container">
  <div class="page-header">
    <div class="pull-right form-inline">
      <div class="btn-group">
	<button class="btn btn-primary" data-calendar-nav="prev"><< Prev</button>
								    <button class="btn" data-calendar-nav="today">Today</button>
								    <button class="btn btn-primary" data-calendar-nav="next">Next >></button>
	</div>
      <div class="btn-group">
	<button class="btn btn-warning" data-calendar-view="year">Year</button>
	<button class="btn btn-warning active" data-calendar-view="month">Month</button>
	<button class="btn btn-warning" data-calendar-view="week">Week</button>
	<button class="btn btn-warning" data-calendar-view="day">Day</button>
	</div>
      </div>
  </div>
  <div class="span3">
    <div class="row-fluid">
      <select id="first_day" class="span12">
	<option value="" selected="selected">First day of week language-dependant</option>
	<option value="2">First day of week is Sunday</option>
	<option value="1">First day of week is Monday</option>
      </select>
      <br>

      <!-- THIS IS THE CALENDAR!!! -->
      <div id='calendar'></div>

      <label class="checkbox">
	<input type="checkbox" value="#events-modal" id="events-in-modal"> Open events in modal window
      </label>
    </div>
    
    <h4>Events</h4>
    <small>This list is populated with events dynamically</small>
    <ul id="eventlist" class="nav nav-list"></ul>
  </div>
</div>

<div class="clearfix"></div>
<br><br>
<a href="https://github.com/Serhioromano/bootstrap-calendar/issues" class="btn btn-block btn-info">
  <center>
    <span class="lead">
      Submit an issue, ask questions or give your ideas here!<br>
    </span>
    <small>Please do not post your "How to ..." questions in comments. use GitHub issue tracker.</small>
  </center>
</a>
<br><br>

<!-- the script to populate events in the calendar -->
<!--<ul>
{% if events_list %}
{% for event in events_list %}
<li>{{ event.start_time }}</li>
{% endfor %}
{% endif %}
</ul>-->
  <script>
    
    $(document).ready(function() {
    
    /*console.log("here!");*/

    /*var obj = jQuery.parseJSON( {{ events_list }} );*/

    /*$( "li" ).each( function( index, element ) {
    console.log( $( this ).text() );
    });*/

    /*var jquery_events = [];
    for (var event in {{ events_list }}) {
    var jquery_event = {
    title: event.activity,
    start: new Date(event.start_time.year, event.start_time.month, event.start_time.day),
    end: new Date(event.end_time.year, event.end_time.month, event.end_time.day),
    allDay: false
    };
    jquery_events.push(jquery_event);
    }*/

    
    
  
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();
    
    $('#calendar').fullCalendar({
    header: {
    left: 'prev,next today',
    center: 'title',
    right: 'month,agendaWeek,agendaDay'
    },
    editable: true,



    events: /*jquery_events*/ [
    {
    title: 'All Day Event',
    start: new Date(y, m, 1)
    },
    {
    title: 'Long Event',
    start: new Date(y, m, d-5),
    end: new Date(y, m, d-2)
    },
    {
    id: 999,
    title: 'Repeating Event',
    start: new Date(y, m, d-3, 16, 0),
    allDay: false
    },
    {
    id: 999,
    title: 'Repeating Event',
    start: new Date(y, m, d+4, 16, 0),
    allDay: false
    },
    {
    title: 'Meeting',
    start: new Date(y, m, d, 10, 30),
    allDay: false
    },
    {
    title: 'Lunch',
    start: new Date(y, m, d, 12, 0),
    end: new Date(y, m, d, 14, 0),
    allDay: false
    },
    {
    title: 'Birthday Party',
    start: new Date(y, m, d+1, 19, 0),
    end: new Date(y, m, d+1, 22, 30),
    allDay: false
    },
    {
    title: 'Click for Google',
    start: new Date(y, m, 28),
    end: new Date(y, m, 29),
    url: 'http://google.com/'
    }
    ]
    });
    
    });
    
  </script>
<!-- this is the style they use in the example html
    <style>
    
    body {
    margin-top: 40px;
    text-align: center;
    font-size: 14px;
    font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
    }
    
    #calendar {
    width: 900px;
    margin: 0 auto;
    }

  </style>
  -->

</div>

{% endblock %}
